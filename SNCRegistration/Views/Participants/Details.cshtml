@model SNCRegistration.ViewModels.GuardianParticipantFamily

@{
    ViewBag.Title = "Participant Details";
    Layout = "~/Views/Shared/_LayoutPanel.cshtml";
}

<h2>Participant Details</h2>

@using (Html.BeginForm("Participants", "Details", FormMethod.Post))
{
}

<div>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.participant.ParticipantFirstName)

        </dt>

        <dd>
            @Html.DisplayFor(model => model.participant.ParticipantFirstName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.participant.ParticipantLastName)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.participant.ParticipantLastName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.participant.ParticipantAge)
        </dt>

        <dd>
            @if (Model.participant.ParticipantAge == 1)
            {
                <p>Under 6</p>
            }
            else if (Model.participant.ParticipantAge == 2)
            {
                <p>7-10</p>
            }
            else if (Model.participant.ParticipantAge == 3)
            {
                <p>11-13</p>
            }
            else if (Model.participant.ParticipantAge == 4)
            {
                <p>14-17</p>
            }
            else if (Model.participant.ParticipantAge == 5)
            {
                <p>18-20</p>
            }
            else if (Model.participant.ParticipantAge == 6)
            {
                <p>Over 21</p>
            }
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.participant.ParticipantSchool)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.participant.ParticipantSchool)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.participant.ParticipantTeacher)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.participant.ParticipantTeacher)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.participant.ClassroomScouting)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.participant.ClassroomScouting)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.participant.HealthForm)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.participant.HealthForm)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.participant.PhotoAck)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.participant.PhotoAck)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.participant.AttendingCode)
        </dt>

        <dd>
            @if (Model.participant.AttendingCode == 2)
            {
                <p>Saturday Only</p>
            }
            else if (Model.participant.AttendingCode == 3)
            {
                <p>Overnight</p>
            }
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.participant.Comments)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.participant.Comments)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.participant.CheckedIn)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.participant.CheckedIn)
        </dd>

    </dl>

    <p align="right">
        <div align="right" style="margin-right:20px;">
           @if (!Model.participant.CheckedIn)
           {

            @Html.ActionLink("Check In", "CheckIn", new { id = Model.participant.ParticipantID }, new { @class = "btn btn-success" })                { <text>| </text>}
            }
            @Html.ActionLink("Edit", "Edit", new { id = Model.participant.ParticipantID }, new { @class = "btn btn-info" }) |
            @Html.ActionLink("Delete", "Delete", new { id = Model.participant.ParticipantID }, new { @class = "btn btn-danger" }) |
            @Html.ActionLink("Back to Participant List", "Index", "Participants", new { }, new { @class = "btn btn-info" }) |
            @Html.ActionLink("Back to Guardian", "Details", "Guardians", new { id=Model.participant.GuardianID}, new { @class = "btn btn-info" })
        </div>
    </p>

    <hr />
    <h3>Related Guardian</h3>
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.guardian.GuardianFirstName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.guardian.GuardianLastName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.guardian.HealthForm)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.guardian.PhotoAck)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.guardian.CheckedIn)
            </th>

            <th></th>
        </tr>
        @foreach (var item in Model.guardians)
            {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.GuardianFirstName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.GuardianLastName)
                </td>
                <th>
                    @Html.DisplayFor(modelItem => item.HealthForm)
                </th>
                <th>
                    @Html.DisplayFor(modelItem => item.PhotoAck)
                </th>
                <td>
                    @Html.DisplayFor(modelItem => item.CheckedIn)
                </td>
                <td align="center">
                    @Html.ActionLink("Details", "Details", "Guardians", new { id = item.GuardianID }, new { @class = "btn btn-info" })

                </td>
                <td>
                    @if (!item.CheckedIn)
                    {
                        @Html.ActionLink("Check In", "CheckIn", "Guardians", new { id = item.GuardianID }, new { @class = "btn btn-success" })
                    }
                </td>
            </tr>
        }

    </table>




    <hr />
    <h3>Related Participants</h3>
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.participant.ParticipantFirstName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.participant.ParticipantLastName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.participant.HealthForm)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.participant.PhotoAck)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.participant.CheckedIn)
            </th>

            <th></th>
            <th></th>
        </tr>
        @foreach (var item in Model.relatedparticipants)
            {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.ParticipantFirstName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ParticipantLastName)
                </td>
                <th>
                    @Html.DisplayFor(modelItem => item.HealthForm)
                </th>
                <th>
                    @Html.DisplayFor(modelItem => item.PhotoAck)
                </th>
                <td>
                    @Html.DisplayFor(modelItem => item.CheckedIn)
                </td>
                <td align="center">
                    @Html.ActionLink("Details", "Details", "Participants", new { id = item.ParticipantID }, new { @class = "btn btn-info" })
                </td>
                <td>
                        
                   @if (!item.CheckedIn)
                   {
                     @Html.ActionLink("Check In", "CheckIn", "Participants", new { id = item.ParticipantID }, new { @class = "btn btn-success" })
                   }
                </td>
            </tr>
        }

    </table>

    

    <hr />
    <h3>Related Family Members</h3>
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.familymember.FamilyMemberFirstName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.familymember.FamilyMemberLastName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.familymember.HealthForm)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.familymember.PhotoAck)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.familymember.CheckedIn)
            </th>
            <th></th>
            <th></th>
        </tr>
        @foreach (var item in Model.familymembers)
            {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.FamilyMemberFirstName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.FamilyMemberLastName)
                </td>
                <th>
                    @Html.DisplayFor(modelItem => item.HealthForm)
                </th>
                <th>
                    @Html.DisplayFor(modelItem => item.PhotoAck)
                </th>
                <td>
                    @Html.DisplayFor(modelItem => item.CheckedIn)
                </td>
                <td align="center">
                    @Html.ActionLink("Details", "Details", "FamilyMembers", new { id = item.FamilyMemberID }, new { @class = "btn btn-info" })
                </td>
                <td>
                    @if (!item.CheckedIn)
                    {
                        @Html.ActionLink("Check In", "CheckIn", "FamilyMembers", new { id = item.FamilyMemberID }, new { @class = "btn btn-success" })
                    }
                </td>
            </tr>
        }

    </table>




</div>

@*
    original list, saved
    <dt>
    @Html.DisplayNameFor(model => model.ParticipantFirstName)
</dt>
<dd>
    @Html.DisplayFor(model => model.ParticipantFirstName)
</dd>
<dt>
    @Html.DisplayNameFor(model => model.ParticipantLastName)
</dt>
<dd>
    @Html.DisplayFor(model => model.ParticipantLastName)
</dd>
<dt>
    @Html.DisplayNameFor(model => model.ParticipantAge)
</dt>
<dd>
    @Html.DisplayFor(model => model.ParticipantAge)
</dd>
<dt>
    @Html.DisplayNameFor(model => model.ParticipantSchool)
</dt>
<dd>
    @Html.DisplayFor(model => model.ParticipantSchool)
</dd>
<dt>
    @Html.DisplayNameFor(model => model.ParticipantTeacher)
</dt>
<dd>
    @Html.DisplayFor(model => model.ParticipantTeacher)
</dd>
<dt>
    @Html.DisplayNameFor(model => model.ClassroomScouting)
</dt>
<dd>
    @Html.DisplayFor(model => model.ClassroomScouting)
</dd>
<dt>
    @Html.DisplayNameFor(model => model.HealthForm)
</dt>
<dd>
    @Html.DisplayFor(model => model.HealthForm)
</dd>
<dt>
    @Html.DisplayNameFor(model => model.PhotoAck)
</dt>
<dd>
    @Html.DisplayFor(model => model.PhotoAck)
</dd>
<dt>
    @Html.DisplayNameFor(model => model.AttendingCode)
</dt>
<dd>
    @Html.DisplayFor(model => model.AttendingCode)
</dd>
<dt>
    @Html.DisplayNameFor(model => model.GuardianID)
</dt>
<dd>
    @Html.DisplayFor(model => model.GuardianID)
</dd>
<dt>
    @Html.DisplayNameFor(model => model.Comments)
</dt>
<dd>
    @Html.DisplayFor(model => model.Comments)
</dd>
    </dl>*@